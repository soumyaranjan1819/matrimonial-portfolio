<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Matrimonial Portfolio</title>
    <!--
      Tailwind CSS is pulled from the official CDN. It provides utility
      classes for layout, spacing, typography and responsiveness. Using
      the CDN keeps this project self‚Äëcontained without the need for
      additional build steps. See https://tailwindcss.com/docs for
      documentation on the available classes.
    -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!--
      React and ReactDOM are loaded from a CDN. The development builds
      include helpful warnings and error messages. When deploying to
      production you can switch these for the minified builds if
      desired. See https://react.dev for more information.
    -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <!--
      Babel is used to transpile JSX on the fly in the browser. It
      supports modern JavaScript syntax and JSX without a build tool.
      While this slows down initial load a bit, it keeps the example
      simple and self‚Äëcontained. For a production application you
      should precompile your JS using a bundler like Vite or Webpack.
    -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- jsPDF library for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <!-- jsPDF library for generating PDF downloads -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <!-- Custom styles to hide scrollbars on elements with the no-scrollbar class -->
    <style>
      /* Hide scrollbar for Chrome, Safari and Opera */
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      /* Hide scrollbar for IE, Edge and Firefox */
      .no-scrollbar {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
      }
    </style>
  </head>
  <body class="bg-gray-50 min-h-screen font-sans">
    <!--
      The root element where React will mount the application. All of
      your components are rendered into this container.
    -->
    <div id="root"></div>
    <!--
      The main application script. It's declared as type "text/babel"
      which tells Babel to transpile the code on the fly. For a
      production application you should compile this file ahead of
      time.
    -->
    <!--
      The application code is embedded directly below. It is marked
      as type="text/babel" so that Babel will transpile the JSX at
      runtime. For maintainability the same code also lives in
      app.js; if you modify one, be sure to update the other.
    -->
    <script type="text/babel" data-presets="env,react">
// This revised React application constructs a matrimonial profile page
// similar to the Jeevansathi layout.  The UI is organised into
// three columns on desktop (profile/basic details on the left,
// scrollable content in the centre, and an album grid on the right)
// while collapsing into a single column on mobile.  A fixed header
// displays the invocation text and stays visible when scrolling.  On
// small screens the album grid is hidden.

const { useState } = React;

// Component: ImageWithSkeleton
// Displays a skeleton placeholder until the image has fully loaded.  The
// skeleton uses a grey pulse animation provided by Tailwind's
// `animate-pulse` utility.  When the image fires its onLoad event the
// skeleton fades out and the actual image becomes visible.  An
// optional className can be passed in to control sizing.
function ImageWithSkeleton({ src, alt = '', className = '', imageClassName = '' }) {
  /*
    Show a grey pulsating placeholder until the image finishes
    loading.  The skeleton is positioned behind the image (z-0)
    while the image sits above it (z-10).  This ensures that any
    overlay controls such as navigation arrows are not obscured by
    the placeholder.  Once loaded we remove the opacity class on
    the image so it becomes visible.
  */
  const [loaded, setLoaded] = useState(false);
  return (
    <div className={`relative ${className}`}>
      {!loaded && (
        <div className="absolute inset-0 bg-gray-300 animate-pulse rounded z-0"></div>
      )}
      <img
        src={src}
        alt={alt}
        className={
          'h-full w-full ' +
          (imageClassName || 'object-cover') +
          (loaded ? '' : ' opacity-0') +
          ' relative z-5'
        }
        onLoad={() => setLoaded(true)}
        /*
          If the image fails to load (e.g. incorrect path or missing file),
          trigger onError to hide the skeleton overlay.  Without this the
          skeleton would remain visible indefinitely on error.
        */
        onError={() => setLoaded(true)}
      />
    </div>
  );
}

// Component: ProfileCard
// Displays the user's profile picture (placeholder), first name and
// a link to view the album.  An optional onViewAlbum handler can be
// passed in to scroll to the album grid.
function ProfileCard({ name, onViewAlbum, onViewProfile, onOpenKundli, profileImage }) {
  return (
    <div className="bg-white rounded-lg shadow p-4 flex flex-row z-5 md:flex-col items-center gap-4 relative">
      {/* Astrology icon at top right, will add the button here in future*/}
      <div
        className="flex-shrink-0 h-28 w-28 rounded-full overflow-hidden cursor-pointer"
        onClick={() => {
          onViewProfile && onViewProfile();
        }}
      >
        {/* Profile picture with skeleton */}
        {/* When no profileImage is supplied this will fall back to the avatar outline below */}
        {profileImage ? (
          <ImageWithSkeleton
            src={profileImage}
            alt={name}
            className="h-full w-full object-cover rounded-full"
          />
        ) : (
          <div className="h-full w-full bg-gray-200 flex items-center justify-center text-gray-500">
            <svg className="h-14 w-14" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z" />
              <path d="M12 14c-4.418 0-8 1.79-8 4v2h16v-2c0-2.21-3.582-4-8-4z" />
            </svg>
          </div>
        )}
      </div>
      <div className="flex flex-col md:items-center flex-1">
        <h1 className="text-lg md:text-xl font-semibold text-gray-800 mb-1 text-left md:text-center">
          {name}
        </h1>
        <button
          onClick={(e) => {
            e.preventDefault();
            onViewAlbum && onViewAlbum();
          }}
          className="text-rose-400 text-sm font-medium flex items-center gap-1 hover:text-rose-500 focus:outline-none"
        >
          <span>View album</span>
          <span className="pb-1" aria-hidden="true">üì∑</span>
        </button>
      </div>
    </div>
  );
}

// Component: BasicDetailsCard
// Shows basic details like DOB, height, community, rasi, gotra and blood group
// with simple emoji icons for better aesthetics.
function BasicDetailsCard({ details }) {
  // Map keys to icons
  // Icons for each field.  A genealogical tree icon (üå≥) is used for
  // Gotra to better convey ancestry.  Location and diet fields have
  // explicit icons.  Age reuses the birthday cake emoji to indicate
  // the passage of years rather than a specific date of birth.
    const icons = {
    age: 'üéÇ',
    height: 'üìè',
    community: 'üßò',
    rasi: '‚ôà',
    gotra: 'üß¨',
    location: 'üìç',
    diet: 'üçó',
    blood: 'ü©∏'
  };
  return (
    <div className="bg-white mt-2 rounded-lg shadow">
      <h3 className="bg-rose-100 text-gray-900 font-semibold px-4 py-3 rounded-t w-full">Basic Info</h3>
      <ul className="px-4 py-3 space-y-2 text-gray-800 text-sm">
        {/* Age replaces the date of birth.  The same cake icon is used to represent a birthday. */}
        {details.age && (
          <li className="flex items-center gap-2">
            <span className="text-lg">{icons.age}</span>
            <span><span className="font-semibold">Age:</span> {details.age}</span>
          </li>
        )}
        <li className="flex items-center gap-2">
          <span className="text-lg">{icons.height}</span>
          <span><span className="font-semibold">Height:</span> {details.height}</span>
        </li>
        <li className="flex items-center gap-2">
          <span className="text-lg">{icons.community}</span>
          <span><span className="font-semibold">Community:</span> {details.community}</span>
        </li>
        {/* Only show rasi if provided.  In the latest requirements the rasi field
           has been removed from the basic details, so this list item is
           conditionally rendered. */}
        {details.rasi && (
          <li className="flex items-center gap-2">
            <span className="text-lg">{icons.rasi}</span>
            <span><span className="font-semibold">Rasi:</span> {details.rasi}</span>
          </li>
        )}
        <li className="flex items-center gap-2">
          <span className="text-lg">{icons.gotra}</span>
          <span><span className="font-semibold">Gotra:</span> {details.gotra}</span>
        </li>
        {/* Location and diet preference are additional fields requested by the user. */}
        {details.location && (
          <li className="flex items-center gap-2">
            <span className="text-lg">{icons.location}</span>
            <span><span className="font-semibold">Location:</span> {details.location}</span>
          </li>
        )}
        {details.diet && (
          <li className="flex items-center gap-2">
            <span className="text-lg">{icons.diet}</span>
            <span><span className="font-semibold">Diet Preference:</span> {details.diet}</span>
          </li>
        )}
        <li className="flex items-center gap-2">
          <span className="text-lg">{icons.blood}</span>
          <span><span className="font-semibold">Blood Group:</span> {details.bloodGroup}</span>
        </li>
      </ul>
    </div>
  );
}

// Generic card wrapper for main section.
function SectionCard({ title, children }) {
  return (
    <div className="bg-white mt-2 rounded-lg shadow">
      <h3 className="bg-rose-100 text-gray-900 font-semibold px-4 py-3 rounded-t w-full">{title}</h3>
      <div className="px-4 py-3 text-gray-800 text-sm space-y-2">
        {children}
      </div>
    </div>
  );
}

// Album grid for the right section.  Displays 12 placeholders
// labelled ‚ÄúAlbum¬†1‚Äù, ‚ÄúAlbum¬†2‚Äù, etc.  You can substitute real
// images by replacing the divs with <img> tags.
function AlbumGrid({ images, onSelect }) {
  return (
    <div className="bg-white mt-2 rounded-lg shadow">
      <h3 className="bg-rose-100 text-gray-900 font-semibold px-4 py-3 rounded-t w-full">Album</h3>
      <div className="p-4 grid grid-cols-3 sm:grid-cols-3 gap-2">
        {images.map((src, idx) => (
          <div
            key={idx}
            className="border border-gray-200 rounded-lg h-20 w-full overflow-hidden cursor-pointer"
            onClick={() => onSelect && onSelect(idx)}
          >
            <ImageWithSkeleton
              src={src}
              alt={`Album ${idx + 1}`}
              className="h-full w-full object-cover"
            />
          </div>
        ))}
      </div>
    </div>
  );
}

// AlbumModal component renders a modal overlay that can display
// either a single image with navigation controls or a grid of
// thumbnails.  It is controlled via the isOpen prop; images is an
// array of URLs; currentIndex sets the initial image; onClose
// closes the modal.  The modal loops around when navigating past
// the last image.
function AlbumModal({ isOpen, images, currentIndex, onClose }) {
  const [mode, setMode] = React.useState('single');
  const [index, setIndex] = React.useState(currentIndex || 0);

  // Sync state when opening the modal or changing the selected index
  React.useEffect(() => {
    if (isOpen) {
      setMode('single');
      setIndex(currentIndex || 0);
    }
  }, [isOpen, currentIndex]);

  if (!isOpen) return null;

  const handlePrev = () => {
    setIndex((prev) => (prev - 1 + images.length) % images.length);
  };
  const handleNext = () => {
    setIndex((prev) => (prev + 1) % images.length);
  };
  const openGrid = () => setMode('grid');
  const openSingle = (idx) => {
    setIndex(idx);
    setMode('single');
  };

  const totalCount = images.length;

  const ChevronLeftIcon = (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      strokeWidth={1.5}
      stroke="currentColor"
      className="h-6 w-6"
    >
      <path strokeLinecap="round" strokeLinejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
    </svg>
  );
  const ChevronRightIcon = (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      strokeWidth={1.5}
      stroke="currentColor"
      className="h-6 w-6"
    >
      <path strokeLinecap="round" strokeLinejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
    </svg>
  );
  // Grid icon: simple 3√ó3 grid symbol.  Use consistent sizing
  // with the close icon.
  const GridIcon = (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="currentColor"
      viewBox="0 0 24 24"
      className="h-6 w-6"
    >
      <path d="M3 3h5v5H3V3zm0 8h5v5H3v-5zm0 8h5v5H3v-5zm8-16h5v5h-5V3zm0 8h5v5h-5v-5zm0 8h5v5h-5v-5zm8-16h5v5h-5V3zm0 8h5v5h-5v-5zm0 8h5v5h-5v-5z" />
    </svg>
  );
  // Close icon: X mark with thicker stroke and size similar to grid icon.
  const CloseIcon = (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      strokeWidth={2.5}
      stroke="currentColor"
      className="h-8 w-8"
    >
      <path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
    </svg>
  );

  return (
    <div className="fixed inset-0 bg-black/70 flex items-center justify-center z-50">
      {mode === 'single' ? (
        <div className="relative max-w-4xl w-full max-h-[80vh] bg-white rounded-lg flex flex-col">
          {/* Header: centre the photo counter and align actions to the right. */}
          <div className="flex justify-center w-full items-center bg-rose-100 py-2 rounded-t-lg">
            <span className="flex-1 text-center text-gray-600 font-medium text-sm">
              {index + 1}/{totalCount}
            </span>
            <div className="flex items-center gap-2 pr-2">
              <button
                onClick={openGrid}
                className="p-2 text-gray-700 hover:bg-rose-200 rounded"
                aria-label="Show grid"
              >
                {GridIcon}
              </button>
              <button
                onClick={() => onClose()}
                className="p-1 text-gray-700 hover:bg-rose-200 rounded"
                aria-label="Close"
              >
                {CloseIcon}
              </button>
            </div>
          </div>
          {/* Body: image with navigation arrows always visible */}
          <div className="flex-1 relative flex items-center justify-center p-0">
            <button
              onClick={handlePrev}
              className="absolute left-4 top-1/2 -translate-y-1/2 bg-gray-100/65 text-gray-700 rounded-full p-1 hover:bg-gray-100 z-20"
              aria-label="Previous"
            >
              {ChevronLeftIcon}
            </button>
            <div className="max-h-[70vh] max-w-full flex items-center justify-center">
              <ImageWithSkeleton
                src={images[index]}
                alt={`Album ${index + 1}`}
                className="max-h-[70vh] max-w-full"
                imageClassName="object-contain"
              />
            </div>
            <button
              onClick={handleNext}
              className="absolute right-4 top-1/2 -translate-y-1/2 bg-gray-100/65 text-gray-700 rounded-full p-1 hover:bg-gray-100 z-20"
              aria-label="Next"
            >
              {ChevronRightIcon}
            </button>
          </div>
        </div>
      ) : (
        <div className="relative max-w-4xl w-full max-h-[80vh] bg-white rounded-lg flex flex-col">
          {/* Header in grid view: actions aligned right */}
          <div className="flex items-center justify-end bg-rose-100 px-4 py-2 rounded-t-lg gap-2">
            <button
              onClick={() => setMode('single')}
              className="p-2 text-gray-700 hover:bg-rose-200 rounded"
              aria-label="Back to single view"
            >
              {GridIcon}
            </button>
            <button
              onClick={() => onClose()}
              className="p-2 text-gray-700 hover:bg-rose-200 rounded"
              aria-label="Close"
            >
              {CloseIcon}
            </button>
          </div>
          {/* Grid body: taller portrait cells and increased top margin */}
          <div className="flex-1 overflow-auto p-4 grid grid-cols-3 sm:grid-cols-3 gap-2 mt-8 rounded-b-lg">
            {images.map((src, idx) => (
              <div
                key={idx}
                className="w-full h-48 sm:h-56 cursor-pointer"
                onClick={() => openSingle(idx)}
              >
                <ImageWithSkeleton
                  src={src}
                  alt={`Album ${idx + 1}`}
                  className="h-full w-full"
                  imageClassName="object-cover"
                />
              </div>
            ))}
          </div>
        </div>
      )}
    </div>
  );
}

// ProfileModal displays a larger view of the profile picture with
// only a close button.  It uses the same placeholder avatar
// graphics as ProfileCard.  When closed, onClose is called.
function ProfileModal({ isOpen, onClose, image }) {
  if (!isOpen) return null;
  // Use same colour scheme as album modal for consistency
  const CloseIcon = (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      strokeWidth={2.5}
      stroke="currentColor"
      className="h-6 w-6"
    >
      <path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
    </svg>
  );
  return (
    <div className="fixed inset-0 bg-black/70 flex items-center justify-center z-50">
      <div className="relative max-w-lg w-full max-h-[80vh] bg-rose-50 rounded-lg flex flex-col">
        {/* Header with close */}
        <div className="flex justify-end items-center bg-rose-100 px-4 py-2 rounded-t-lg">
          <button
            onClick={() => onClose()}
            className="p-1 text-gray-600 hover:bg-rose-200 rounded"
            aria-label="Close"
          >
            {CloseIcon}
          </button>
        </div>
        <div className="flex-1 flex items-center justify-center p-6">
          {image ? (
            <ImageWithSkeleton
              src={image}
              alt="Profile"
              className="max-h-[60vh] max-w-full rounded-full"
              imageClassName="object-contain rounded-full"
            />
          ) : (
            <div className="h-80 w-80 rounded-full bg-gray-200 flex items-center justify-center text-gray-500">
              <svg className="h-32 w-32" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z" />
                <path d="M12 14c-4.418 0-8 1.79-8 4v2h16v-2c0-2.21-3.582-4-8-4z" />
              </svg>
            </div>
          )}
        </div>
      </div>
    </div>
  );
}

// KundliModal prompts the user for the bride's birth details and
// displays a match result.  When the Match button is clicked the
// provided onMatch callback is invoked with the collected data
// (name, dob, time, place).  While waiting for a result a
// spinner and "matching..." text is shown.  Once a result is
// available it is displayed along with a Close button.  The modal
// resets its internal state each time it is opened.
function KundliModal({ isOpen, onClose, onMatch }) {
  const initialState = { name: '', dob: '', time: '', place: '' };
  const [form, setForm] = React.useState(initialState);
  const [loading, setLoading] = React.useState(false);
  const [result, setResult] = React.useState(null);

  // Reset fields when opening or closing
  React.useEffect(() => {
    if (isOpen) {
      setForm(initialState);
      setLoading(false);
      setResult(null);
    }
  }, [isOpen]);

  const handleChange = (e) => {
    const { name, value } = e.target;
    setForm((prev) => ({ ...prev, [name]: value }));
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    // Only submit if all fields filled
    if (!form.name || !form.dob || !form.time || !form.place) return;
    setLoading(true);
    try {
      const res = await onMatch({ ...form });
      setResult(res);
    } catch (err) {
      setResult({ score: 0, message: 'Unable to compute match' });
    } finally {
      setLoading(false);
    }
  };

  if (!isOpen) return null;

  // Simple loading spinner SVG
  const Spinner = (
    <svg className="animate-spin h-6 w-6 text-gray-600" viewBox="0 0 24 24">
      <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
      <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
    </svg>
  );

  return (
    <div className="fixed inset-0 bg-black/70 flex items-center justify-center z-50">
      <div className="relative max-w-lg w-full max-h-[90vh] bg-white rounded-lg flex flex-col">
        {/* Header */}
        <div className="flex items-center justify-between bg-rose-100 px-4 py-2 rounded-t-lg">
          <h3 className="text-gray-800 font-semibold text-base">{result ? 'Match Result' : "Enter Bride's Detail"}</h3>
          <button
            onClick={() => onClose()}
            className="p-2 text-gray-700 hover:bg-rose-200 rounded"
            aria-label="Close"
          >
            {/* Close icon */}
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              strokeWidth={2}
              stroke="currentColor"
              className="h-6 w-6"
            >
              <path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
        {/* Body */}
        <div className="flex-1 overflow-auto p-4 space-y-4">
          {loading ? (
            <div className="flex flex-col items-center justify-center h-full">
              {Spinner}
              <p className="mt-2 text-gray-700">matching ...</p>
            </div>
          ) : result ? (
            <div className="text-center space-y-4">
              <p className="text-gray-700 text-lg font-semibold">
                Match Score: {result.score}/36
              </p>
              <p className="text-gray-600 text-base">{result.message}</p>
              <button
                onClick={() => onClose()}
                className="mt-4 bg-rose-500 hover:bg-rose-600 text-white px-4 py-2 rounded"
              >
                Close
              </button>
            </div>
          ) : (
            <form onSubmit={handleSubmit} className="space-y-4">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1" htmlFor="bride-name">Name*</label>
                <input
                  type="text"
                  id="bride-name"
                  name="name"
                  value={form.name}
                  onChange={handleChange}
                  placeholder="Enter name"
                  className="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-rose-400"
                  required
                />
              </div>
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1" htmlFor="bride-dob">Date of Birth*</label>
                <input
                  type="date"
                  id="bride-dob"
                  name="dob"
                  value={form.dob}
                  onChange={handleChange}
                  className="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-rose-400"
                  required
                />
              </div>
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1" htmlFor="bride-time">Time of Birth*</label>
                <input
                  type="time"
                  id="bride-time"
                  name="time"
                  value={form.time}
                  onChange={handleChange}
                  className="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-rose-400"
                  required
                />
              </div>
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1" htmlFor="bride-place">Birth Place*</label>
                <input
                  type="text"
                  id="bride-place"
                  name="place"
                  value={form.place}
                  onChange={handleChange}
                  placeholder="Enter place of birth"
                  className="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-rose-400"
                  required
                />
              </div>
              <div className="flex justify-center">
                <button
                  type="submit"
                  className="bg-rose-400 hover:bg-rose-500 text-white px-4 py-2 rounded"
                >
                  Match Kundli
                </button>
              </div>
            </form>
          )}
        </div>
      </div>
    </div>
  );
}

// KundliModal allows users to input bride's details and match kundli
// with the groom's data.  It shows a form with four fields and a
// match button.  While matching it displays a spinner and after
// completion shows the score and a message.  The actual matching
// logic is delegated to the onMatch callback passed in from the
// parent.  The groom's data is provided for completeness although
// not displayed in the UI.
/*
  NOTE: The old KundliModal implementation has been removed to avoid
  multiple definitions of the same component.  The application now
  relies on a single, modern KundliModal defined above.  This stub
  remains as a comment for reference and should not be interpreted
  by the compiler.
*/

// Main App component
function App() {
  // Data pulled from the provided screenshots and some placeholder
  // values.  Modify these as needed.
  const profile = {
    name: 'Soumya Ranjan Behera',
    // Profile picture path.  The first image from the album is used as the profile photo.
    image: 'assets/IMG_01.jpg'
  };
  // Compute age from the date of birth.  The age is calculated at
  // runtime based on the current date.  If the birthday has not
  // occurred yet this year, subtract one year.  This utility
  // returns a number representing years.
  function computeAge(dobString) {
    const dob = new Date(dobString);
    const today = new Date();
    let age = today.getFullYear() - dob.getFullYear();
    const monthDiff = today.getMonth() - dob.getMonth();
    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < dob.getDate())) {
      age--;
    }
    return age;
  }
  const age = computeAge('1995-12-30');
  const basic = {
    // Age is shown instead of the date of birth.  The original DOB
    // remains here for reference but is not displayed directly.
    age: `${age} years`,
    height: "5'11\" (180¬†cm)",
    community: 'Hindu, Brahmin ‚Äì Halua',
    // Rasi and diet have been removed as per the latest instructions.
    gotra: 'Kashyap',
    location: 'Bhubaneswar',
    bloodGroup: 'B+'
  };
  
  // Only the first paragraph is shown by default; the
  // second is revealed when the user clicks ‚ÄúView more‚Äù.
  const aboutMePart1 =
    'I am an ambitious, mature, and understanding individual who values simplicity, honesty, and strong family bonds. I believe in balancing aspirations with responsibilities while striving for personal and professional growth.';
  const aboutMePart2 =
    'To me, a fulfilling relationship is built on empathy, mutual respect, and a shared vision for the future. I look forward to settling down with someone who is kind, family-oriented, and equally committed to building a life rooted in trust, love, and companionship. It would be wonderful if she shares my interest in travel and enjoys discovering new places together.';

  // State to toggle the expanded view of the About Me section.  It
  // starts collapsed (false).  When the user clicks ‚ÄúView more‚Äù the
  // second paragraph is displayed and the toggle remains true.
  const [aboutExpanded, setAboutExpanded] = React.useState(false);
  const family = {
    father: 'Nirakar Behera',
    fatherOccupation: 'Govt. Headmaster (Retired)',
    mother: 'Chandrakala Sahoo',
    motherOccupation: 'Teacher',
    siblings: '1',
    description: 'We are a close-knit family who values education, culture and mutual respect.'
  };
  const career = {
    degree: 'B.Tech in Electrical Engineering',
    institute: 'Institute of Technical Education & Research (ITER), Bhubaneswar',
    profession: 'Senior Software Engineer',
    company: 'MSys Technologies',
    location: 'Benguluru',
  };
  const lifestyle = {
    hobbies: 'Tech',
    interests: 'Tavelling, Photography, Gardening.',
    food: 'Authentic Odia cuisine, Healthy snacking & non-vegetarian.'
  };
  const kundli = {
    rasi: 'Mesh (Aries)',
    nakshatra: 'Ashwini',
    manglik: 'No',
    dob: '30 DEC 1995',
    birthTime: '11:27 PM',
    birthPlace: 'Jajpur Town'
  };
  const contact = {
    self: '9776786336',
    father: '9777160360',
    email: 'soumyaranjan1819@gmail.com'
  };

  // Array of photos sorted alphabetically.  These are served from
  // the local assets directory.  If you add more files to
  // `matrimonial-portfolio/assets` they should be appended here and
  // sorted by filename.
  const images = [
    'assets/IMG_01.jpg',
    'assets/IMG_03.jpg',
    'assets/IMG_02.jpg',
    'assets/IMG_12.jpg',
    'assets/IMG_05.jpg',
    'assets/IMG_10.jpg',
    'assets/IMG_07.jpg',
    'assets/IMG_08.jpg',
    'assets/IMG_11.jpg',
    'assets/IMG_09.jpg',
  ];

  // Base64 encoded thumbnail of the profile picture for embedding in the PDF.  This
  // thumbnail is a smaller version of IMG_01.jpg to keep the PDF size reasonable.
  const profileThumbData = 'data:image/jpeg;base64,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';

  // Generates a downloadable PDF version of the profile using jsPDF.  The
  // PDF replicates the card-based UI: each section is drawn inside a
  // rounded rectangle with a rose header bar matching the web layout.  The
  // profile photo is shown next to the name at the top along with a View
  // Album link pointing to the provided Google Drive folder.  About Me and
  // Album sections are intentionally omitted from the PDF.
  const generateBioPDF2 = () => {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF({ unit: 'pt', format: 'a4' });
    const pageWidth = doc.internal.pageSize.getWidth();
    const margin = 40;
    let y = margin;
    function drawCard(title, lines) {
      const headerHeight = 22;
      // Increase line height slightly to give extra spacing between lines
      const lineHeight = 15;
      const bodyHeight = lines.reduce((h, ln) => {
        const split = doc.splitTextToSize(ln, pageWidth - 2 * margin - 16);
        return h + split.length * lineHeight;
      }, 0) + 16;
      const cardHeight = headerHeight + bodyHeight;
      doc.setFillColor(254, 226, 226);
      doc.roundedRect(margin, y, pageWidth - 2 * margin, headerHeight, 6, 6, 'F');
      doc.setFont('helvetica', 'bold');
      doc.setFontSize(12);
      doc.setTextColor(31, 41, 55);
      doc.text(title, margin + 8, y + headerHeight - 6);
      doc.setFillColor(255, 255, 255);
      doc.roundedRect(margin, y + headerHeight, pageWidth - 2 * margin, bodyHeight, 6, 6, 'F');
      doc.setFont('helvetica', 'normal');
      doc.setFontSize(10);
      doc.setTextColor(55, 65, 81);
      let yy = y + headerHeight + 14;
      lines.forEach((ln) => {
        const split = doc.splitTextToSize(ln, pageWidth - 2 * margin - 16);
        split.forEach((s) => {
          doc.text(s, margin + 8, yy);
          yy += lineHeight;
        });
      });
      y += cardHeight + 12;
    }
    // Header section
    const headerHeight = 80;
    doc.setFillColor(254, 226, 226);
    doc.roundedRect(margin, y, pageWidth - 2 * margin, headerHeight, 6, 6, 'F');
    const imgSize = 60;
    doc.addImage(profileThumbData, 'JPEG', margin + 12, y + 10, imgSize, imgSize);
    doc.setFont('helvetica', 'bold');
    doc.setFontSize(16);
    doc.setTextColor(31, 41, 55);
    doc.text(profile.name, margin + 12 + imgSize + 12, y + 30);
    doc.setFont('helvetica', 'normal');
    doc.setFontSize(10);
    doc.setTextColor(244, 63, 94);
    doc.textWithLink('View album', margin + 12 + imgSize + 12, y + 50, { url: 'https://drive.google.com/drive/u/0/folders/1OcxzhxejRn00R50TXAyBhoxEoDv-N17m' });
    y += headerHeight + 12;
    // Basic Info card
    const basicLines = [];
    if (basic.age) basicLines.push(`Age: ${basic.age}`);
    basicLines.push(`Height: ${basic.height}`);
    basicLines.push(`Community: ${basic.community}`);
    if (basic.gotra) basicLines.push(`Gotra: ${basic.gotra}`);
    if (basic.location) basicLines.push(`Location: ${basic.location}`);
    basicLines.push(`Blood Group: ${basic.bloodGroup}`);
    drawCard('Basic Info', basicLines);
    // Family card
    const familyLines = [];
    familyLines.push(`Parents: Father is ${family.fatherOccupation}, Mother is currently working as a ${family.motherOccupation}.`);
    familyLines.push('Siblings: 1 younger brother (Unmarried), working in Benguluru.');
    familyLines.push('We are a close-knit and progressive family from Keonjhar, with plans to settle in Bhubaneswar by mid-2026.');
    drawCard('Family', familyLines);
    // Career & Education card
    const careerLines = [];
    careerLines.push(`Degree: ${career.degree}`);
    careerLines.push(`Institute: ${career.institute}`);
    careerLines.push(`Profession: ${career.profession} at ${career.company}`);
    careerLines.push(`Location: ${career.location}`);
    drawCard('Career & Education', careerLines);
    // Lifestyle & Interests card
    const lifestyleLines = [];
    lifestyleLines.push(`Hobbies: ${lifestyle.hobbies}`);
    lifestyleLines.push(`Interests: ${lifestyle.interests}`);
    lifestyleLines.push(`Food Preference: ${lifestyle.food}`);
    drawCard('Lifestyle & Interests', lifestyleLines);
    // Kundli & Astro card
    const kundliLines = [];
    kundliLines.push(`DOB: ${kundli.dob}`);
    kundliLines.push(`Birth Time: ${kundli.birthTime}`);
    kundliLines.push(`Birth Place: ${kundli.birthPlace}`);
    kundliLines.push(`Rasi: ${kundli.rasi}`);
    kundliLines.push(`Nakshatra: ${kundli.nakshatra}`);
    kundliLines.push(`Manglik: ${kundli.manglik}`);
    drawCard('Kundli & Astro', kundliLines);
    // Contact card
    const contactLines = [];
    contactLines.push(`Mobile (Self): ${contact.self}`);
    contactLines.push(`Mobile (Father): ${contact.father}`);
    contactLines.push(`Email: ${contact.email}`);
    drawCard('Contact Details', contactLines);
    const filename = `${profile.name.replace(/\s+/g, '_')}_Bio.pdf`;
    doc.save(filename);
  };


  // State for controlling the album modal.  albumOpen toggles the
  // visibility; albumIndex stores the currently selected image index.
  const [albumOpen, setAlbumOpen] = React.useState(false);
  const [albumIndex, setAlbumIndex] = React.useState(0);

  // State to control profile picture popup
  const [profileOpen, setProfileOpen] = React.useState(false);
  const openProfile = () => setProfileOpen(true);
  const closeProfile = () => setProfileOpen(false);

  // State for Kundli matching modal
  const [kundliOpen, setKundliOpen] = React.useState(false);
  const openKundli = () => setKundliOpen(true);
  const closeKundli = () => setKundliOpen(false);

  // Handler to perform kundli matching.  It accepts the bride's
  // details and returns a simulated compatibility score and
  // message.  In a real application you could call an external
  // astrology API here.  We use the user's own birth details from
  // the existing data (basic.dob, kundli.birthTime, kundli.birthPlace).
  // Deterministic Kundli match function.  To ensure consistent
  // results for the same input, we compute a simple hash of the
  // bride‚Äôs details (name, dob, time and place).  The resulting
  // value is mapped into the range [18, 36] to represent the
  // traditional Gun Milan score.  Messages are chosen based on
  // the final score.  A small artificial delay is added to
  // simulate network latency and allow the spinner to be visible.
  const handleKundliMatch = async (bride) => {
    const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));
    await sleep(1200);
    // Build a string from the input values and compute a simple
    // checksum.  We lower‚Äëcase the string to avoid case sensitive
    // differences.  The checksum is reduced modulo 19 to get a
    // value between 0 and 18, then shifted by 18 to produce a
    // score between 18 and 36.
    const concat = `${bride.name || ''}${bride.dob || ''}${bride.time || ''}${bride.place || ''}`.toLowerCase();
    let hash = 0;
    for (let i = 0; i < concat.length; i++) {
      hash = (hash + concat.charCodeAt(i)) % 19;
    }
    const score = 18 + hash;
    let message;
    if (score >= 30) {
      message = 'Excellent compatibility. A match made in heaven!';
    } else if (score >= 24) {
      message = 'Very good compatibility. You complement each other well.';
    } else if (score >= 18) {
      message = 'Moderate compatibility. There will be challenges but love conquers all.';
    } else {
      message = 'Low compatibility. Proceed with caution.';
    }
    return { score, message };
  };

  const openAlbum = (index = 0) => {
    setAlbumIndex(index);
    setAlbumOpen(true);
  };
  const closeAlbum = () => {
    setAlbumOpen(false);
  };

  // Base64 encoded thumbnail of the profile picture for embedding in the PDF.  This
  // thumbnail is a downscaled version of IMG_01.jpg to keep the PDF file size manageable.
  const profileThumbData2 = 'data:image/jpeg;base64,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';

  // Base64 encoded PNG containing the Devanagari invocation used in the PDF header.  Generated via
  // PIL to ensure proper rendering of the Hindi script in the PDF.
  const ganapatiHeaderImg = 'data:image/png;base64,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';

  // Base64 encoded WhatsApp icon used in the PDF contact card header.
  // Base64 encoded WhatsApp icon used in the PDF contact card header.  This
  // image is taken from the user's supplied file "whatsapp (1).png" and
  // provides a crisp, green WhatsApp logo.  See attachments for
  // reference.
  const whatsappIconImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA99JREFUSInFlU9sVFUUxn/nzrSIKGr7pkNFUCouTAmNoWH+ajAk1QXCQos2wYSFLJREE7UmGiQRNf7ZqNHEhYkYmygWJUYTCLFQKMy8KbVRopBoUwhaStqZWrCmaW3fPS7ezHRg2lpX3tV953zn+853z8u9whyr/gyVN//pPKiiW1CzHtFlCDeiDCv0gx4OiBw4Gcn9OhcHgJRFFImdclpQXhNYVZIZB8aAEGDyMQt8hje9K524fOFfBWLp2xaLmdgLPJoPHQTapmXyu1ORsRGA5nYCl26vWeOp3WzgKYVlwGUV85gbGT48p8CGzjuum1r8V4dCAjgnIttTkeyJ+eyvPR1ecsO4txuhFbAq0uJGsvtnFYhnnDZgm0L3omDlpmONg7n5yK9y3u20iNIGTKqVpBvP/lDIGYCk6zwEbAMuiBfY/F/IAdxI7nPxXVwvRveixRlhUIwV3gAQlSfTiaFhgETG2RPPOF4sE3pmISKpSO4d4ATQkMg4LUWBmFsTBeoFUqlY9hBAvOeWNQq7ACOqzza3E1iIiFpeBlDDjqKAiN2C3/6+ItIz91CYj7BycGXogYUIuLFcFzCIkoill1YBGEQbAIzq0SJSuFhSl7PWnl6IAIIidALBgFSu9R0gtQDjQS2SVo6PdCmcz38ecOMjF8vZ5lQZAPAMtX7jwhI/MTpegBy7n2mjshNQYHvUrUkslF5VJwHEyiLw/6IRgOB0VbgUmIplDym8ClQasd+Uitz7vVMbz1Q/Xn+GynIFlvtGvEFfAP0ZwIg0Xot1I7lXQD8GqozY47GM83YsHVrtTfM1yKc3jTnn4q6zo7RGhEaAoFT05Y9IjgCIysNl3Qg2HRl5QnwnKtAqRvuA9XnEcoTnCvBkT7gOaFA42xUZOg9gzBTfAlcQmu/rDq+aRURT0dxuD7NOoAN/LsUDUfT9woc37b2Ud9E+Uw7EXecthBcEeTMVzb5YJlKy4qmaOzFeE7BUNXjQjQ/9BBB1axJG7HFgdDLore5tHL0CEMRvqVr8zY/zkQOkE8P9wIelsWRPuM563ldAAJXWAjnkLzsRmgA7ZSY6ComFXg9J19lgrZcBwqryQTqW/aQ0L1G3+m4jchboA90DbATZCOqJyut4fJFK5sbKiDPOOgutwFa/R9699bfc8/u34l0lEHdDTyP63jX1lplncUKgF6Tfqk4JhBEagBX5/ADQmo7m9jHLCiLalN//gnAUNUfUTnQGpOIuK7IT2OS/cpqQmQfWA04q8uXfwYqPehsHx2cj9x1kQo94eJnu6B8DsyIUE3NDdcboCrBBDeilSeH30kH+r+sfFhB6jxhOx/YAAAAASUVORK5CYII=';

  // Generates a downloadable PDF version of the profile using jsPDF.  This version
  // mirrors the card-based UI while incorporating additional styling tweaks: the
  // Ganapati invocation appears at the top, section headers are rectangular
  // (not rounded), the profile card has no coloured background, and the
  // profile image is larger with a thin border.  Labels are bold and the
  // company name in the profession line is italic.  The About Me and Album
  // sections are intentionally omitted.
  const generateBioPDF = () => {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF({ unit: 'pt', format: 'a4' });
    const pageWidth = doc.internal.pageSize.getWidth();
    const margin = 40;
    let yPos = margin - 16;

    // Compute age from DOB string (YYYY-MM-DD)
    function computeAgeFromDob(dobStr) {
      const dobDate = new Date(dobStr);
      const today = new Date();
      let age = today.getFullYear() - dobDate.getFullYear();
      const m = today.getMonth() - dobDate.getMonth();
      if (m < 0 || (m === 0 && today.getDate() < dobDate.getDate())) {
        age--;
      }
      return age;
    }
    // Draw a card with rectangular header and bold labels.  Lines are
    // provided as strings in the format "Label: value".  For the
    // Profession line the company portion after " at " is rendered
    // italic.  Multi‚Äëline wrapping is handled with explicit splits.
    function drawCard(title, lines) {
      const headerHeight = 22;
      const lineHeight = 15;
      // Estimate body height: one lineHeight per line, plus extra for
      // wrapped values.  Since we manually wrap values, bodyHeight is
      // incremented accordingly during rendering.
      let bodyHeight = 16 + lines.length * lineHeight;
      // Draw header background (solid rose) without rounded corners
      doc.setFillColor(254, 226, 226);
      doc.rect(margin, yPos, pageWidth - 2 * margin, headerHeight, 'F');
      // Header text
      doc.setFont('helvetica', 'bold');
      doc.setFontSize(12);
      doc.setTextColor(31, 41, 55);
      doc.text(title, margin + 8, yPos + headerHeight - 6);
      // Draw body background (white)
      doc.setFillColor(255, 255, 255);
      doc.rect(margin, yPos + headerHeight, pageWidth - 2 * margin, bodyHeight, 'F');
      // Body text rendering
      let textY = yPos + headerHeight + 14;
      lines.forEach((ln) => {
        // Split label and value at first colon
        const idx = ln.indexOf(':');
        if (idx > -1) {
          const label = ln.slice(0, idx).trim();
          let value = ln.slice(idx + 1).trim();
          // Special handling for Profession line: italicise company
          let italicsStart = null;
          let italicsText = '';
          let hasAt = false;
          if (label.toLowerCase() === 'profession' && value.toLowerCase().includes(' at ')) {
            const parts = value.split(/ at /i);
            value = parts[0].trim();
            italicsStart = value;
            italicsText = parts.slice(1).join(' at ').trim();
            hasAt = true;
          }
          // Measure label width
          doc.setFont('helvetica', 'bold');
          doc.setFontSize(10);
          const labelWidth = doc.getTextWidth(label + ':');
          // Render label
          doc.setTextColor(31, 41, 55);
          doc.text(label + ':', margin + 8, textY);
          // Render value (normal)
          let xVal = margin + 8 + labelWidth + 4;
          doc.setFont('helvetica', 'normal');
          doc.setFontSize(10);
          doc.setTextColor(55, 65, 81);
          // If profession line with italics
          if (italicsStart !== null) {
            // Render profession and the word "at" in normal font
            const beforeText = hasAt ? value + ' at ' : value;
            doc.text(beforeText, xVal, textY, { maxWidth: pageWidth - 2 * margin - 16 });
            const beforeWidth = doc.getTextWidth(beforeText);
            // Render italic company name
            doc.setFont('helvetica', 'italic');
            const companyVal = italicsText;
            doc.text(companyVal, xVal + beforeWidth, textY, { maxWidth: pageWidth - 2 * margin - 16 - beforeWidth });
            // Reset font to normal after italic
            doc.setFont('helvetica', 'normal');
          } else {
            // Normal value
            // Split long value into multiple lines if necessary
            const maxValWidth = pageWidth - 2 * margin - 16 - labelWidth - 4;
            const splits = doc.splitTextToSize(value, maxValWidth);
            splits.forEach((s, idx2) => {
              if (idx2 === 0) {
                doc.text(s, xVal, textY);
              } else {
                // wrap to next line aligned with label start
                textY += lineHeight;
                doc.text(s, margin + 8, textY);
              }
            });
          }
          textY += lineHeight;
        } else {
          // No label/value pattern
          doc.setFont('helvetica', 'normal');
          doc.setFontSize(10);
          doc.setTextColor(55, 65, 81);
          doc.text(ln, margin + 8, textY, { maxWidth: pageWidth - 2 * margin - 16 });
          textY += lineHeight;
        }
      });
      // Reduce gap between sections to tighten layout
      yPos += headerHeight + bodyHeight + 8;
    }
    // Draw Ganapati invocation centred at top using the embedded image.  A PNG is
    // used because the default PDF font cannot render Devanagari text correctly.
    // Reduce the size and vertical margin so the heading sits closer to the top.
    const headerImgWidth = 150;
    const headerImgHeight = 28;
    const headerX = (pageWidth - headerImgWidth) / 2;
    doc.addImage(ganapatiHeaderImg, 'PNG', headerX, yPos, headerImgWidth, headerImgHeight);
    // Reduce vertical spacing after the header
    yPos += headerImgHeight + 8;
    // Profile header (no coloured background)
    const imgSizeLarge = 80;
    const imgX = margin;
    const imgY = yPos + 0;
    // Profile image: enlarge and remove border.  Draw directly without any
    // surrounding rectangle so the image touches the margins.  Increase size
    // slightly to emphasise the picture.
    doc.addImage(profileThumbData, 'JPEG', imgX, imgY, imgSizeLarge, imgSizeLarge);
    // Name and age/designation
    const ageYears = computeAgeFromDob('1995-12-30');
    doc.setFont('helvetica', 'bold');
    doc.setFontSize(16);
    doc.setTextColor(31, 41, 55);
    doc.text(profile.name, imgX + imgSizeLarge + 16, imgY + 24);
    doc.setFont('helvetica', 'normal');
    doc.setFontSize(10);
    doc.setTextColor(55, 65, 81);
    // Use the user‚Äërequested designation; fallback to profession if provided
    const designation = career.profession ? career.profession : 'Senior Software Developer';
    doc.text(`${ageYears} Yrs, ${designation}`, imgX + imgSizeLarge + 16, imgY + 40);
    // View Album link below name
    doc.setFont('helvetica', 'normal');
    doc.setFontSize(10);
    doc.setTextColor(244, 63, 94);
    doc.textWithLink('View album', imgX + imgSizeLarge + 16, imgY + 56, { url: 'https://drive.google.com/drive/u/0/folders/1OcxzhxejRn00R50TXAyBhoxEoDv-N17m' });
    // Update yPos after profile section
    yPos += imgSizeLarge + 24;
    // Basic info lines: use DOB instead of Age
    const basicLines2 = [];
    basicLines2.push(`DOB: ${kundli.dob}`);
    basicLines2.push(`Height: ${basic.height}`);
    basicLines2.push(`Community: ${basic.community}`);
    if (basic.gotra) basicLines2.push(`Gotra: ${basic.gotra}`);
    if (basic.location) basicLines2.push(`Location: ${basic.location}`);
    basicLines2.push(`Blood Group: ${basic.bloodGroup}`);
    drawCard('Basic Info', basicLines2);
    // Family section
    const familyLines2 = [];
    familyLines2.push(`Parents: Father is ${family.fatherOccupation}, Mother is currently working as a ${family.motherOccupation}.`);
    familyLines2.push('Siblings: 1 younger brother (Unmarried), working in Benguluru.');
    familyLines2.push('We are a close-knit and progressive family from Keonjhar, with plans to settle in Bhubaneswar by mid-2026.');
    drawCard('Family', familyLines2);
    // Career & Education section
    const careerLines2 = [];
    careerLines2.push(`Degree: ${career.degree}`);
    careerLines2.push(`Institute: ${career.institute}`);
    careerLines2.push(`Profession: ${career.profession} at ${career.company}`);
    careerLines2.push(`Location: ${career.location}`);
    drawCard('Career & Education', careerLines2);
    // Lifestyle & Interests section
    const lifestyleLines2 = [];
    lifestyleLines2.push(`Hobbies: ${lifestyle.hobbies}`);
    lifestyleLines2.push(`Interests: ${lifestyle.interests}`);
    lifestyleLines2.push(`Food Preference: ${lifestyle.food}`);
    drawCard('Lifestyle & Interests', lifestyleLines2);
    // Kundli & Astro section
    const kundliLines2 = [];
    kundliLines2.push(`Birth Time: ${kundli.birthTime}`);
    kundliLines2.push(`Birth Place: ${kundli.birthPlace}`);
    kundliLines2.push(`Rasi: ${kundli.rasi}`);
    kundliLines2.push(`Nakshatra: ${kundli.nakshatra}`);
    kundliLines2.push(`Manglik: ${kundli.manglik}`);
    drawCard('Kundli & Astro', kundliLines2);
    // Contact Details section
    const contactLines2 = [];
    contactLines2.push(`Mobile (Self): ${contact.self}`);
    contactLines2.push(`Mobile (Father): ${contact.father}`);
    contactLines2.push(`Email: ${contact.email}`);
    // Capture the current y-position before drawing the contact card so
    // the WhatsApp icon can be layered over the header afterwards.
    const contactHeaderY = yPos;
    drawCard('Contact Details', contactLines2);
    // Draw the WhatsApp icon in the contact card header.  Position it on the
    // right side within the 22pt header bar, leaving a small right margin.
    const iconSize = 18;
    const headerHeightConst = 22;
    const iconX = pageWidth - margin - iconSize - 8;
    const iconY = contactHeaderY + (headerHeightConst - iconSize) / 2;
    doc.addImage(whatsappIconImg, 'PNG', iconX, iconY, iconSize, iconSize);
    const waLink =
      'https://wa.me/9776786336?text=Hello%20Soumya%2C%0AI%20just%20went%20through%20your%20matrimonial%20biodata%20and%20would%20love%20to%20connect.%20When%20would%20be%20a%20convenient%20time%20to%20talk%3F';
    doc.link(iconX, iconY, iconSize, iconSize, { url: waLink });
    // Save PDF
    const filename = `${profile.name.replace(/\s+/g, '_')}_Bio.pdf`;
    doc.save(filename);
  };

  return (
    <div className="min-h-screen bg-gray-50">
      {/* Fixed header */}
      <header className="fixed top-0 left-0 right-0 bg-white shadow z-10 py-4 text-center text-red-600 font-bold">
        ‡•ê ‡§∂‡•ç‡§∞‡•Ä ‡§ó‡§£‡§™‡§§‡§Ø‡•á ‡§®‡§Æ‡§É
      </header>
      {/* Content area with increased top and bottom padding */}
      <div className="pt-20 pb-7 px-4 max-w-7xl mx-auto">
        <div className="flex flex-col md:flex-row gap-2 md: gap-3">
          {/* Left column */}
          <aside className="w-full md:w-1/4 flex flex-col gap-2 md:sticky md:top-20 pt-2 self-start">
            <ProfileCard
              name={profile.name}
              onViewAlbum={() => openAlbum(0)}
              onViewProfile={openProfile}
              onOpenKundli={openKundli}
              profileImage={profile.image}
            />
            <BasicDetailsCard details={basic} />
          </aside>

          {/* Middle scrollable column */}
          <main className="md:w-1/2 w-full flex flex-col gap-2 md:flex-grow md:overflow-y-auto no-scrollbar">
            {/* About Me section with expandable view.  By default only
              the first paragraph is shown.  Clicking ‚ÄúView more‚Äù
              reveals the second paragraph.  Once expanded the
              button disappears. */}
            <SectionCard title="About Me">
              <div className="space-y-2">
                <p>{aboutMePart1}</p>
                {aboutExpanded && <p>{aboutMePart2}</p>}
                {!aboutExpanded && (
                  <button
                    onClick={() => setAboutExpanded(true)}
                    className="text-red-500 font-medium flex items-center gap-1 focus:outline-none"
                  >
                    View more
                    <span className="text-sm">‚ñº</span>
                  </button>
                )}
              </div>
            </SectionCard>

            {/* Family section summarises parents‚Äô occupations, sibling
              information and family values.  Chips denote the type
              of family and values.  A descriptive paragraph
              concludes the section. */}
            <SectionCard title="Family">
              <div className="flex flex-wrap gap-2 mb-3 mt-1">
                <span className="border border-gray-300 rounded-full px-3 py-1 text-xs bg-gray-100">Nuclear Family</span>
                <span className="border border-gray-300 rounded-full px-3 py-1 text-xs bg-gray-100">Moderate values</span>
              </div>
              <ul className="space-y-2">
                <li className="flex items-center gap-2">
                  <span><span className="font-semibold">Parents:</span> Father is {family.fatherOccupation} &amp; Mother is currently working as a {family.motherOccupation}.</span>
                </li>
                <li className="flex items-center gap-2">
                  <span><span className="font-semibold">Siblings:</span> 1 younger brother (Unmarried), working in Benguluru.</span>
                </li>
              </ul>
              <p className="mt-2">We are a close-knit and progressive family from Keonjhar, with plans to settle in Bhubaneswar by mid-2026.</p>
            </SectionCard>
            <SectionCard title="Career & Education">
              <ul className="space-y-2">
                <li><strong>Degree:</strong> {career.degree}</li>
                <li><strong>Institute:</strong> {career.institute}</li>
                <li><strong>Profession:</strong> {career.profession} at <i className='font-medium'>{career.company}</i></li>
                <li><strong>Location:</strong> {career.location}</li>
              </ul>
            </SectionCard>
            <SectionCard title="Lifestyle & Interests">
              <ul className="space-y-2">
                
                <li><strong>Interests:</strong> {lifestyle.interests}</li>
                <li><strong>Food Preference:</strong> {lifestyle.food}</li>
              </ul>
            </SectionCard>
            <SectionCard title="Kundli & Astro">
              {/* Display kundli details and preview side by side even on small screens. */}
              <div className="flex flex-row gap-4 items-start">
                <ul className="space-y-2 flex-1 min-w-[60%]">
                  <li><strong>DOB:</strong> {kundli.dob}</li>
                  <li><strong>Birth Time:</strong> {kundli.birthTime}</li>
                  <li><strong>Birth Place:</strong> {kundli.birthPlace}</li>
                  <li><strong>Rasi:</strong> {kundli.rasi}</li>
                  <li><strong>Nakshatra:</strong> {kundli.nakshatra}</li>
                  <li><strong>Manglik:</strong> {kundli.manglik}</li>
                </ul>
                <div className="flex flex-col items-center justify-center flex-shrink-0 ">
                  {/* Kundli preview image.  Clickable to open the PDF.*/}
                  <a
                    href="assets/kundli.pdf"
                    target="_blank"
                    className="inline-flex flex-col items-center text-center"
                    rel="noopener noreferrer"
                  >
                    <ImageWithSkeleton
                      src="assets/kundli_view.png"
                      alt="Kundli Chart"
                      className="pl-2 w-16 h-auto"
                      imageClassName="object-contain"
                    />
                    <span className="text-rose-400 hover:text-rose-500 text-sm font-medium mt-2">View Kundli</span>
                  </a>
                </div>
              </div>
            </SectionCard>
            {/* Custom Contact Details card with WhatsApp link in the header */}
            <div className="bg-white mt-2 rounded-lg shadow">
              {/* Card header with title on the left and WhatsApp icon on the right */}
              <div className="bg-rose-100 text-gray-900 font-semibold px-4 py-3 rounded-t w-full flex items-center justify-between">
                <span>Contact Details</span>
                <a
                  href={`https://wa.me/${contact.self}?text=Hello%20Soumya%2C%0AI%20just%20went%20through%20your%20matrimonial%20biodata%20and%20would%20love%20to%20connect.%20When%20would%20be%20a%20convenient%20time%20to%20talk%3F`}
                  target="_blank"
                  rel="noopener noreferrer"
                  className="text-green-600 hover:text-green-700"
                  aria-label="Chat on WhatsApp"
                >
                  {/* WhatsApp icon */}
                  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z" />
                  </svg>
                </a>
              </div>
              {/* Card content */}
              <div className="px-4 py-3 text-gray-800 text-sm space-y-2">
                <ul className="space-y-2">
                  <li><strong>Mobile (Self):</strong> {contact.self}</li>
                  <li><strong>Mobile (Father):</strong> {contact.father}</li>
                  <li><strong>Email:</strong> {contact.email}</li>
                </ul>
                </div>
                </div>
                {/* Download PDF button */}
                <div className="mt-2 rounded-lg shadow flex justify-center">
                  <button
                    onClick={generateBioPDF}
                    className="bg-rose-400 hover:bg-rose-500 text-white text-sm font-medium px-4 py-2 rounded w-full"
                  >
                    View in PDF
                  </button>
                </div>
          </main>
          {/* Right column: album grid (hidden on mobile) */}
          <aside id="album-grid" className="md:w-1/4 hidden md:block sticky top-20 self-start">
            <AlbumGrid images={images} onSelect={(idx) => openAlbum(idx)} />
          </aside>
        </div>
      </div>
      {/* Album modal */}
      <AlbumModal
        isOpen={albumOpen}
        images={images}
        currentIndex={albumIndex}
        onClose={closeAlbum}
      />

      {/* Profile modal */}
      <ProfileModal isOpen={profileOpen} onClose={closeProfile} image={profile.image} />

      {/* Kundli matching modal */}
      <KundliModal
        isOpen={kundliOpen}
        onClose={closeKundli}
        onMatch={handleKundliMatch}
      />

      {/* Footer / watermark */}
      
      <footer className="py-4 text-center mt-1 px-4">
        <p className="text-gray-600 text-base font-semibold">Crafted with ‚ù§ for a new beginning üë®üèª‚Äçü§ù‚Äçüë©üèª</p>
        <p className="text-gray-500 text-sm mt-1">Designed &amp; Developed by <span className="font-medium">Soumya</span></p>
        <p className="text-gray-400 text-xs mt-1 flex items-center justify-center gap-1 font-normal">
          <span>For queries or collaborations, reach out at</span>
          <a
            href="https://www.linkedin.com/in/soumyaranjan1819/"
            target="_blank"
            rel="noopener noreferrer"
            className="text-blue-600 hover:underline flex items-center"
          >
            {/* LinkedIn icon */}
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              viewBox="0 0 16 16"
              className="mr-1"
            >
              <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.475 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.525 16 0 15.487 0 14.854V1.146zM4.943 12.306v-5.3H2.542v5.3h2.401zM3.743 6.511c.837 0 1.356-.554 1.356-1.244-.015-.705-.519-1.244-1.34-1.244-.821 0-1.356.539-1.356 1.244 0 .69.519 1.244 1.324 1.244h.016zm4.247 5.795v-2.833c0-.152.011-.304.056-.412.122-.304.398-.62.863-.62.609 0 .852.469.852 1.158v2.707h2.401v-2.898c0-1.553-.83-2.27-1.937-2.27-.906 0-1.312.5-1.544.847h.015V6.999H8.132c.03.765 0 5.307 0 5.307h2.401z" />
            </svg>
            <span className="sr-only">LinkedIn</span>
          </a>
        </p>
      </footer>
    </div>
  );
}

// Mount the app
ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
  </body>
</html>